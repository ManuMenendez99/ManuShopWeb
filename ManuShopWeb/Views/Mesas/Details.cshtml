@model ManuShopWeb.Models.Mesa

@{
    List<TiposMesa> tiposMesa = ViewData["TIPOSMESA"] as List<TiposMesa>;
    String origen = ViewData["ORIGEN"].ToString();
    ViewData["Title"] = "Details";
}

<h1>Details</h1>

<div>
    <h4>Mesa</h4>
    <hr />
    <dl class="row">
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.numero)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.numero)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.tipoMesa)
        </dt>
        <dd class="col-sm-10">
            @(tiposMesa.Where(x => x.id == Model.tipoMesa).FirstOrDefault().nombre)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.capacidad)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.capacidad)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.estado)
        </dt>
        <dd class="col-sm-10">
            @(Model.estado == 0 ? "libre" : Model.estado == 1 ? "ocupada" : Model.estado == 2 ? "pendiente de cobro" : Model.estado == 3 ? "cerrada" : "error")
        </dd>
    </dl>
</div>
<div>
    @if (origen == "TRABAJADOR")
    {
        <div>
            @Html.ActionLink("Edit", "Edit", new { id = Model.id }, new { @class = "btn btn-outline-dark" })
            <a asp-action="ResumenMesas" asp-route-tienda="@Model.tienda" class="btn btn-outline-dark">Volver al listado</a>
        </div>
    } else
    {
            <a asp-action="BuscarMesa" asp-route-tienda="@Model.tienda" class="btn btn-outline-dark">Volver al listado</a>
    }
</div>
